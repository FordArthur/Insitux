(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>ut});var r={};t.r(r),t.d(r,{abs:()=>W,ceil:()=>F,charCode:()=>k,codeChar:()=>w,concat:()=>g,cos:()=>K,ends:()=>f,flat:()=>x,floor:()=>z,getTimeMs:()=>q,has:()=>p,isArray:()=>u,isNum:()=>c,len:()=>i,log10:()=>Q,log2:()=>J,logn:()=>H,lowerCase:()=>N,max:()=>B,min:()=>_,objKeys:()=>P,padEnd:()=>j,push:()=>b,randInt:()=>E,randNum:()=>A,range:()=>T,reverse:()=>C,round:()=>$,sign:()=>G,sin:()=>D,slen:()=>a,slice:()=>n,sortBy:()=>M,splice:()=>o,sqrt:()=>U,starts:()=>y,strIdx:()=>d,sub:()=>h,subIdx:()=>m,substr:()=>l,tan:()=>L,toNum:()=>s,trim:()=>S,trimEnd:()=>O,trimStart:()=>I,upperCase:()=>v});const s=t=>Number(t),n=(t,e,r)=>t.slice(e,r),o=(t,e,r)=>t.splice(e,r),i=t=>t.length,a=t=>t.length,c=t=>!Number.isNaN(Number(t)),u=t=>Array.isArray(t),l=(t,e,r)=>t.substring(e,e+(r??t.length)),d=(t,e)=>t[e],h=(t,e)=>t.includes(e),m=(t,e)=>t.indexOf(e),p=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),f=(t,e)=>t.endsWith(e),x=t=>t.flat(),g=(t,e)=>t.concat(e),b=(t,e)=>t.push(...e),M=(t,e)=>t.sort(e),C=t=>t.reverse(),N=t=>t.toLowerCase(),v=t=>t.toUpperCase(),S=t=>t.trim(),I=t=>t.trimStart(),O=t=>t.trimEnd(),j=(t,e)=>t.padEnd(e),k=t=>t.charCodeAt(0),w=t=>String.fromCharCode(t),A=(t,e)=>t+Math.random()*(e-t),E=(t,e)=>Math.floor(A(t,e)),T=t=>[...Array(t).keys()],P=t=>Object.keys(t),q=()=>(new Date).getTime(),W=Math.abs,_=Math.min,B=Math.max,D=Math.sin,K=Math.cos,L=Math.tan,U=Math.sqrt,$=Math.round,z=Math.floor,F=Math.ceil,G=Math.sign,H=Math.log,J=Math.log2,Q=Math.log10,{concat:R,has:V,flat:X,push:Y,slice:Z,splice:tt}=r,{slen:et,starts:rt,sub:st,substr:nt,strIdx:ot}=r,{isNum:it,len:at,toNum:ct}=r;function ut(t,e,r=!0,s=!1){const n=[];let o=!1,i=!1,a=[0,0],c=!1,u=!1,l=!1,d=1,h=0;for(let m=0,p=et(t);m<p;++m){const y=ot(t,m),f=m+1!==p?ot(t,m+1):"";if(++h,l){"\n"===y?(l=!1,++d,h=0):s&&(n[at(n)-1].text+=y);continue}if(i){i=!1,o&&(n[at(n)-1].text+={n:"\n",t:"\t",'"':'"'}[y]||`\\${y}`);continue}if("\\"===y){i=!0;continue}if('"'===y){(o=!o)&&(a=[d,h],n.push({typ:"str",text:"",errCtx:{sourceId:e,line:d,col:h}})),u=c=!1;continue}const x=st(" \t\n\r,",y);if(!o&&x){u=c=!1,"\n"===y&&(++d,h=0);continue}if(!o&&";"===y){l=!0,s&&n.push({typ:"rem",text:"",errCtx:{sourceId:e,line:d,col:h}});continue}const g={sourceId:e,line:d,col:h},b=t=>st("0123456789",t),M=st("()[]{}",y);if(u&&!b(y)&&(u="."===y&&!st(n[at(n)-1].text,"."),u||M||x||(c=!0,n[at(n)-1].typ="sym")),c&&M&&(c=!1),!o&&!c&&!u){if(M){const t={"[":"(","{":"(","(":"(",")":")","}":")","]":")"}[y];n.push({typ:t,text:r?t:y,errCtx:g}),r&&("["===y?n.push({typ:"sym",text:"vec",errCtx:g}):"{"===y&&n.push({typ:"sym",text:"dict",errCtx:g}));continue}u=b(y)||"."===y&&b(f)||"-"===y&&(b(f)||"."===f),c=!u;const t=c?"sym":"num";n.push({typ:t,text:"",errCtx:g})}n[at(n)-1].text+=y}return{tokens:n,stringError:o?a:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map
(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>at});var r={};t.r(r),t.d(r,{abs:()=>P,ceil:()=>$,concat:()=>b,cos:()=>B,ends:()=>f,flat:()=>x,floor:()=>U,getTimeMs:()=>A,has:()=>m,isArray:()=>c,isNum:()=>u,len:()=>i,log10:()=>H,log2:()=>G,logn:()=>F,lowerCase:()=>N,max:()=>W,min:()=>q,objKeys:()=>T,padEnd:()=>j,push:()=>g,randInt:()=>w,randNum:()=>k,range:()=>E,reverse:()=>C,round:()=>L,sign:()=>z,sin:()=>_,slen:()=>a,slice:()=>n,sortBy:()=>M,splice:()=>o,sqrt:()=>K,starts:()=>y,strIdx:()=>d,sub:()=>h,subIdx:()=>p,substr:()=>l,tan:()=>D,toNum:()=>s,trim:()=>I,trimEnd:()=>S,trimStart:()=>O,upperCase:()=>v});const s=t=>Number(t),n=(t,e,r)=>t.slice(e,r),o=(t,e,r)=>t.splice(e,r),i=t=>t.length,a=t=>t.length,u=t=>!Number.isNaN(Number(t)),c=t=>Array.isArray(t),l=(t,e,r)=>t.substring(e,e+(r??t.length)),d=(t,e)=>t[e],h=(t,e)=>t.includes(e),p=(t,e)=>t.indexOf(e),m=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),f=(t,e)=>t.endsWith(e),x=t=>t.flat(),b=(t,e)=>t.concat(e),g=(t,e)=>t.push(...e),M=(t,e)=>t.sort(e),C=t=>t.reverse(),N=t=>t.toLowerCase(),v=t=>t.toUpperCase(),I=t=>t.trim(),O=t=>t.trimStart(),S=t=>t.trimEnd(),j=(t,e)=>t.padEnd(e),k=(t,e)=>t+Math.random()*(e-t),w=(t,e)=>Math.floor(k(t,e)),E=t=>[...Array(t).keys()],T=t=>Object.keys(t),A=()=>(new Date).getTime(),P=Math.abs,q=Math.min,W=Math.max,_=Math.sin,B=Math.cos,D=Math.tan,K=Math.sqrt,L=Math.round,U=Math.floor,$=Math.ceil,z=Math.sign,F=Math.log,G=Math.log2,H=Math.log10,{concat:J,has:Q,flat:R,push:V,slice:X,splice:Y}=r,{slen:Z,starts:tt,sub:et,substr:rt,strIdx:st}=r,{isNum:nt,len:ot,toNum:it}=r;function at(t,e,r=!0,s=!1){const n=[];let o=!1,i=!1,a=[0,0],u=!1,c=!1,l=!1,d=1,h=0;for(let p=0,m=Z(t);p<m;++p){const y=st(t,p),f=p+1!==m?st(t,p+1):"";if(++h,l){"\n"===y?(l=!1,++d,h=0):s&&(n[ot(n)-1].text+=y);continue}if(i){i=!1,o&&(n[ot(n)-1].text+={n:"\n",t:"\t",'"':'"'}[y]||`\\${y}`);continue}if("\\"===y){i=!0;continue}if('"'===y){(o=!o)&&(a=[d,h],n.push({typ:"str",text:"",errCtx:{sourceId:e,line:d,col:h}})),c=u=!1;continue}const x=et(" \t\n\r,",y);if(!o&&x){c=u=!1,"\n"===y&&(++d,h=0);continue}if(!o&&";"===y){l=!0,s&&n.push({typ:"rem",text:"",errCtx:{sourceId:e,line:d,col:h}});continue}const b={sourceId:e,line:d,col:h},g=t=>et("0123456789",t),M=et("()[]{}",y);if(c&&!g(y)&&(c="."===y&&!et(n[ot(n)-1].text,"."),c||M||x||(u=!0,n[ot(n)-1].typ="sym")),u&&M&&(u=!1),!o&&!u&&!c){if(M){const t={"[":"(","{":"(","(":"(",")":")","}":")","]":")"}[y];n.push({typ:t,text:r?t:y,errCtx:b}),r&&("["===y?n.push({typ:"sym",text:"vec",errCtx:b}):"{"===y&&n.push({typ:"sym",text:"dict",errCtx:b}));continue}c=g(y)||"."===y&&g(f)||"-"===y&&(g(f)||"."===f),u=!c;const t=u?"sym":"num";n.push({typ:t,text:"",errCtx:b})}n[ot(n)-1].text+=y}return{tokens:n,stringError:o?a:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map
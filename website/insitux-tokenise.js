(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>at});var n={};t.r(n),t.d(n,{abs:()=>A,ceil:()=>$,concat:()=>b,cos:()=>B,ends:()=>f,flat:()=>x,floor:()=>U,getTimeMs:()=>T,has:()=>m,isArray:()=>c,isNum:()=>l,len:()=>i,log10:()=>J,log2:()=>H,logn:()=>G,lowerCase:()=>C,max:()=>W,min:()=>q,objKeys:()=>P,padEnd:()=>j,pi:()=>F,push:()=>g,randInt:()=>w,randNum:()=>k,range:()=>E,reverse:()=>v,round:()=>L,sign:()=>z,sin:()=>_,slen:()=>a,slice:()=>s,sortBy:()=>M,splice:()=>o,sqrt:()=>K,starts:()=>y,strIdx:()=>d,sub:()=>h,subIdx:()=>p,substr:()=>u,tan:()=>D,toNum:()=>r,trim:()=>I,trimEnd:()=>S,trimStart:()=>O,upperCase:()=>N});const r=t=>Number(t),s=(t,e,n)=>t.slice(e,n),o=(t,e,n)=>t.splice(e,n),i=t=>t.length,a=t=>t.length,l=t=>!Number.isNaN(Number(t)),c=t=>Array.isArray(t),u=(t,e,n)=>t.substring(e,e+(n??t.length)),d=(t,e)=>t[e],h=(t,e)=>t.includes(e),p=(t,e)=>t.indexOf(e),m=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),f=(t,e)=>t.endsWith(e),x=t=>t.flat(),b=(t,e)=>t.concat(e),g=(t,e)=>t.push(...e),M=(t,e)=>t.sort(e),v=t=>t.reverse(),C=t=>t.toLowerCase(),N=t=>t.toUpperCase(),I=t=>t.trim(),O=t=>t.trimStart(),S=t=>t.trimEnd(),j=(t,e)=>t.padEnd(e),k=(t,e)=>t+Math.random()*(e-t),w=(t,e)=>Math.floor(k(t,e)),E=t=>[...Array(t).keys()],P=t=>Object.keys(t),T=()=>(new Date).getTime(),A=Math.abs,q=Math.min,W=Math.max,_=Math.sin,B=Math.cos,D=Math.tan,K=Math.sqrt,L=Math.round,U=Math.floor,$=Math.ceil,z=Math.sign,F=Math.PI,G=Math.log,H=Math.log2,J=Math.log10,{concat:Q,has:R,flat:V,push:X,slice:Y}=n,{slen:Z,starts:tt,sub:et,substr:nt,strIdx:rt}=n,{isNum:st,len:ot,toNum:it}=n;function at(t,e,n=!0){const r=[];let s=!1,o=!1,i=[0,0],a=!1,l=!1,c=!1,u=1,d=0;for(let h=0,p=Z(t);h<p;++h){const m=rt(t,h),y=h+1!==p?rt(t,h+1):"";if(++d,c){"\n"===m?(c=!1,++u,d=0):r[ot(r)-1].text+=m;continue}if(o){o=!1,s&&(r[ot(r)-1].text+={n:"\n",t:"\t",'"':'"'}[m]||`\\${m}`);continue}if("\\"===m){o=!0;continue}if('"'===m){(s=!s)&&(i=[u,d],r.push({typ:"str",text:"",errCtx:{invocationId:e,line:u,col:d}})),l=a=!1;continue}const f=et(" \t\n\r,",m);if(!s&&f){l=a=!1,"\n"===m&&(++u,d=0);continue}if(!s&&";"===m){c=!0,r.push({typ:"rem",text:"",errCtx:{invocationId:e,line:u,col:d}});continue}const x={invocationId:e,line:u,col:d},b=t=>et("0123456789",t),g=et("()[]{}",m);if(l&&!b(m)&&(l="."===m&&!et(r[ot(r)-1].text,"."),l||g||f||(a=!0,r[ot(r)-1].typ="sym")),a&&g&&(a=!1),!s&&!a&&!l){if(g){const t={"[":"(","{":"(","(":"(",")":")","}":")","]":")"}[m];r.push({typ:t,text:n?t:m,errCtx:x}),n&&("["===m?r.push({typ:"sym",text:"vec",errCtx:x}):"{"===m&&r.push({typ:"sym",text:"dict",errCtx:x}));continue}l=b(m)||"."===m&&b(y)||"-"===m&&(b(y)||"."===y),a=!l;let t=a?"sym":"num";if(ot(r)){const{typ:e,text:n}=r[ot(r)-1];"sym"!==e||"var"!==n&&"let"!==n||(t="ref")}r.push({typ:t,text:"",errCtx:x})}r[ot(r)-1].text+=m}return{tokens:r,stringError:s?i:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map
(()=>{"use strict";var t={d:(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>xt});var s={};t.r(s),t.d(s,{abs:()=>D,acos:()=>G,asin:()=>z,atan:()=>H,ceil:()=>X,charCode:()=>j,codeChar:()=>A,concat:()=>f,cos:()=>F,cosh:()=>R,ends:()=>x,flat:()=>b,floor:()=>V,getTimeMs:()=>B,has:()=>m,isArray:()=>h,isNum:()=>c,len:()=>o,log10:()=>et,log2:()=>tt,logn:()=>Z,lowerCase:()=>N,max:()=>$,min:()=>W,objKeys:()=>q,padEnd:()=>O,push:()=>g,randInt:()=>T,randNum:()=>I,range:()=>P,replace:()=>M,reverse:()=>v,round:()=>Q,sign:()=>Y,sin:()=>_,sinh:()=>L,slen:()=>i,slice:()=>n,sortBy:()=>C,splice:()=>a,sqrt:()=>J,starts:()=>y,strIdx:()=>u,sub:()=>d,subIdx:()=>p,substr:()=>l,tan:()=>K,tanh:()=>U,toNum:()=>r,trim:()=>k,trimEnd:()=>E,trimStart:()=>w,upperCase:()=>S});const r=t=>Number(t),n=(t,e,s)=>t.slice(e,s),a=(t,e,s)=>t.splice(e,s),o=t=>t.length,i=t=>t.length,c=t=>""!==t&&!Number.isNaN(Number(t)),h=t=>Array.isArray(t),l=(t,e,s)=>t.substring(e,e+(s??t.length)),u=(t,e)=>t[e],d=(t,e)=>t.includes(e),p=(t,e)=>t.indexOf(e),m=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),x=(t,e)=>t.endsWith(e),M=(t,e,s)=>t.replace(new RegExp(e,"g"),s),b=t=>t.flat(),f=(t,e)=>t.concat(e),g=(t,e)=>t.push(...e),C=(t,e)=>t.sort(e),v=t=>t.reverse(),N=t=>t.toLowerCase(),S=t=>t.toUpperCase(),k=t=>t.trim(),w=t=>t.trimStart(),E=t=>t.trimEnd(),O=(t,e)=>t.padEnd(e),j=t=>t.charCodeAt(0),A=t=>String.fromCharCode(t),I=(t,e)=>t+Math.random()*(e-t),T=(t,e)=>Math.floor(I(t,e)),P=t=>[...Array(t).keys()],q=t=>Object.keys(t),B=()=>(new Date).getTime(),D=Math.abs,W=Math.min,$=Math.max,_=Math.sin,F=Math.cos,K=Math.tan,L=Math.sinh,R=Math.cosh,U=Math.tanh,z=Math.asin,G=Math.acos,H=Math.atan,J=Math.sqrt,Q=Math.round,V=Math.floor,X=Math.ceil,Y=Math.sign,Z=Math.log,tt=Math.log2,et=Math.log10,{has:st,flat:rt,push:nt,slice:at,splice:ot}=s,{slen:it,starts:ct,sub:ht,substr:lt,strIdx:ut,subIdx:dt}=s,{isNum:pt,len:mt,toNum:yt}=s;function xt(t,e,s=!0,r=!1){const n=[],a=t=>ht("0123456789",t);let[o,i,c,h]=[!1,1,0,[1,0]],[l,u,d]=[!1,!1,!1];for(let p=0,m=it(t);p<m;++p){const y=ut(t,p),x=p+1!==m?ut(t,p+1):"";if(++c,"\\"===y&&o){n[mt(n)-1].text+=s?{n:"\n",t:"\t",r:"\r",'"':'"'}[x]||("\\"===x?"\\":`\\${x}`):`\\${x}`,++c,++p;continue}const M={invokeId:e,line:i,col:c};if('"'===y){(o=!o)&&(h=[i,c],n.push({typ:"str",text:"",errCtx:M})),u=l=!1;continue}const b=ht(" \t\n\r,",y);if(!o&&b){l=!1,u&&(u=","===y),"\n"===y&&(++i,c=0);continue}if(!o&&";"===y){const e=dt(lt(t,++p),"\n"),s=lt(t,p,e>0?e:m-p);p+=it(s),++i,c=0,r&&n.push({typ:"rem",text:s,errCtx:M});continue}const f=ht("()[]{}",y);if(u&&!a(y)){const t="x"===y&&"0"===n[mt(n)-1].text;d=d||t,u="b"===y&&"0"===n[mt(n)-1].text||"."===y&&!ht(n[mt(n)-1].text,".")||d&&(t||ht("ABCDEFabcdef",y)),u||f||b||(l=!0,n[mt(n)-1].typ="sym")}if(l&&f&&(l=!1),!o&&!l&&!u){if(f){const t=-1===dt("[{(",y)?")":"(";n.push({typ:t,text:s?t:y,errCtx:M}),!s||"["!==y&&"{"!==y||n.push({typ:"sym",text:"["===y?"vec":"dict",errCtx:M});continue}u=a(y)||"."===y&&a(x)||"-"===y&&(a(x)||"."===x),d=l=!u;const t=l?"sym":"num";n.push({typ:t,text:"",errCtx:M})}n[mt(n)-1].text+=y}return{tokens:n,stringError:o?h:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map
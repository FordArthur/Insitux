(()=>{"use strict";var t={d:(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>Mt});var s={};t.r(s),t.d(s,{abs:()=>W,acos:()=>H,asin:()=>G,atan:()=>J,ceil:()=>Y,charCode:()=>A,codeChar:()=>I,concat:()=>g,cos:()=>K,cosh:()=>U,ends:()=>x,flat:()=>f,floor:()=>X,getTimeMs:()=>D,has:()=>m,isArray:()=>h,isNum:()=>c,len:()=>o,log10:()=>st,log2:()=>et,logn:()=>tt,lowerCase:()=>S,max:()=>_,min:()=>$,objKeys:()=>B,padEnd:()=>O,push:()=>C,randInt:()=>P,randNum:()=>T,range:()=>q,replace:()=>M,reverse:()=>N,round:()=>V,rreplace:()=>b,sign:()=>Z,sin:()=>F,sinh:()=>R,slen:()=>i,slice:()=>n,sortBy:()=>v,splice:()=>a,sqrt:()=>Q,starts:()=>y,strIdx:()=>u,sub:()=>d,subIdx:()=>p,substr:()=>l,tan:()=>L,tanh:()=>z,toNum:()=>r,trim:()=>k,trimEnd:()=>E,trimStart:()=>w,upperCase:()=>j});const r=t=>Number(t),n=(t,e,s)=>t.slice(e,s),a=(t,e,s)=>t.splice(e,s),o=t=>t.length,i=t=>t.length,c=t=>""!==t&&!Number.isNaN(Number(t)),h=t=>Array.isArray(t),l=(t,e,s)=>t.substring(e,e+(s??t.length)),u=(t,e)=>t[e],d=(t,e)=>t.includes(e),p=(t,e)=>t.indexOf(e),m=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),x=(t,e)=>t.endsWith(e),M=(t,e,s)=>t.split(e).join(s),b=(t,e,s)=>t.replace(new RegExp(e,"g"),s),f=t=>t.flat(),g=(t,e)=>t.concat(e),C=(t,e)=>t.push(...e),v=(t,e)=>t.sort(e),N=t=>t.reverse(),S=t=>t.toLowerCase(),j=t=>t.toUpperCase(),k=t=>t.trim(),w=t=>t.trimStart(),E=t=>t.trimEnd(),O=(t,e)=>t.padEnd(e),A=t=>t.charCodeAt(0),I=t=>String.fromCharCode(t),T=(t,e)=>t+Math.random()*(e-t),P=(t,e)=>Math.floor(T(t,e)),q=t=>[...Array(t).keys()],B=t=>Object.keys(t),D=()=>(new Date).getTime(),W=Math.abs,$=Math.min,_=Math.max,F=Math.sin,K=Math.cos,L=Math.tan,R=Math.sinh,U=Math.cosh,z=Math.tanh,G=Math.asin,H=Math.acos,J=Math.atan,Q=Math.sqrt,V=Math.round,X=Math.floor,Y=Math.ceil,Z=Math.sign,tt=Math.log,et=Math.log2,st=Math.log10,{has:rt,flat:nt,push:at,slice:ot,splice:it}=s,{slen:ct,starts:ht,sub:lt,substr:ut,strIdx:dt,subIdx:pt}=s,{isNum:mt,len:yt,toNum:xt}=s;function Mt(t,e,s=!0,r=!1){const n=[],a=t=>lt("0123456789",t);let[o,i,c,h]=[!1,1,0,[1,0]],[l,u,d]=[!1,!1,!1];for(let p=0,m=ct(t);p<m;++p){const y=dt(t,p),x=p+1!==m?dt(t,p+1):"";if(++c,"\\"===y&&o){n[yt(n)-1].text+=s?{n:"\n",t:"\t",r:"\r",'"':'"'}[x]||("\\"===x?"\\":`\\${x}`):`\\${x}`,++c,++p;continue}const M={invokeId:e,line:i,col:c};if('"'===y){(o=!o)&&(h=[i,c],n.push({typ:"str",text:"",errCtx:M})),u=l=!1;continue}const b=lt(" \t\n\r,",y);if(!o&&b){l=!1,u&&(u=","===y),"\n"===y&&(++i,c=0);continue}if(!o&&";"===y){const e=pt(ut(t,++p),"\n"),s=ut(t,p,e>0?e:m-p);p+=ct(s),++i,c=0,r&&n.push({typ:"rem",text:s,errCtx:M});continue}const f=lt("()[]{}",y);if(u&&!a(y)){const t="x"===y&&"0"===n[yt(n)-1].text;d=d||t,u="b"===y&&"0"===n[yt(n)-1].text||"."===y&&!lt(n[yt(n)-1].text,".")||d&&(t||lt("ABCDEFabcdef",y)),u||f||b||(l=!0,n[yt(n)-1].typ="sym")}if(l&&f&&(l=!1),!o&&!l&&!u){if(f){const t=-1===pt("[{(",y)?")":"(";n.push({typ:t,text:s?t:y,errCtx:M}),!s||"["!==y&&"{"!==y||n.push({typ:"sym",text:"["===y?"vec":"dict",errCtx:M});continue}u=a(y)||"."===y&&a(x)||"-"===y&&(a(x)||"."===x),d=l=!u;const t=l?"sym":"num";n.push({typ:t,text:"",errCtx:M})}n[yt(n)-1].text+=y}return{tokens:n,stringError:o?h:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map